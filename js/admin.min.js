"use strict";function CsUiOpen(e){e||(e={}),this.expandables=e}!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.store=t()}(this,function(){var e,t={},i="undefined"!=typeof window?window:global,s=i.document,n="localStorage";if(t.disabled=!1,t.version="1.3.20",t.set=function(e,t){},t.get=function(e,t){},t.has=function(e){return void 0!==t.get(e)},t.remove=function(e){},t.clear=function(){},t.transact=function(e,i,s){null==s&&(s=i,i=null),null==i&&(i={});var n=t.get(e,i);s(n),t.set(e,n)},t.getAll=function(){},t.forEach=function(){},t.serialize=function(e){return JSON.stringify(e)},t.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}},function(){try{return n in i&&i[n]}catch(e){return!1}}())e=i[n],t.set=function(i,s){return void 0===s?t.remove(i):(e.setItem(i,t.serialize(s)),s)},t.get=function(i,s){var n=t.deserialize(e.getItem(i));return void 0===n?s:n},t.remove=function(t){e.removeItem(t)},t.clear=function(){e.clear()},t.getAll=function(){var e={};return t.forEach(function(t,i){e[t]=i}),e},t.forEach=function(i){for(var s=0;s<e.length;s++){var n=e.key(s);i(n,t.get(n))}};else if(s&&s.documentElement.addBehavior){var a,o;try{o=new ActiveXObject("htmlfile"),o.open(),o.write('<script>document.w=window</script><iframe src="/favicon.ico"></iframe>'),o.close(),a=o.w.frames[0].document,e=a.createElement("div")}catch(t){e=s.createElement("div"),a=s.body}var l=function(i){return function(){var s=Array.prototype.slice.call(arguments,0);s.unshift(e),a.appendChild(e),e.addBehavior("#default#userData"),e.load(n);var o=i.apply(t,s);return a.removeChild(e),o}},c=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),r=function(e){return e.replace(/^d/,"___$&").replace(c,"___")};t.set=l(function(e,i,s){return i=r(i),void 0===s?t.remove(i):(e.setAttribute(i,t.serialize(s)),e.save(n),s)}),t.get=l(function(e,i,s){i=r(i);var n=t.deserialize(e.getAttribute(i));return void 0===n?s:n}),t.remove=l(function(e,t){t=r(t),e.removeAttribute(t),e.save(n)}),t.clear=l(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(n);for(var i=t.length-1;i>=0;i--)e.removeAttribute(t[i].name);e.save(n)}),t.getAll=function(){var e={};return t.forEach(function(t,i){e[t]=i}),e},t.forEach=l(function(e,i){for(var s,n=e.XMLDocument.documentElement.attributes,a=0;s=n[a];++a)i(s.name,t.deserialize(e.getAttribute(s.name)))})}try{var d="__storejs__";t.set(d,d),t.get(d)!=d&&(t.disabled=!0),t.remove(d)}catch(e){t.disabled=!0}return t.enabled=!t.disabled,t});var cs_local_storage=function(){return{get:function(e){return void 0!=store&&store.get(e)},set:function(e,t){void 0!=store&&store.set(e,t)},remove:function(e){void 0!=store&&store.remove(e)},clear:function(){void 0!=store&&store.clear()}}}();CsUiOpen.prototype.get=function(e,t){return void 0!=this.expandables[e]&&void 0!=this.expandables[e][t]&&this.expandables[e][t]},CsUiOpen.prototype.set=function(e,t,i){"object"!=typeof this.expandables[e]&&(this.expandables[e]={}),this.expandables[e][t]=i},CsUiOpen.prototype.remove=function(e,t){void 0!=this.expandables[e]&&void 0!=this.expandables[e][t]&&delete this.expandables[e][t]},CsUiOpen.prototype.getAll=function(){return this.expandables},CsUiOpen.prototype.clear=function(){this.expandables={}},jQuery(document).ready(function(e){!function(){e("#cs-select-all").click(function(){e(this).is(":checked")?e(".cs-sliders").prop("checked",!0):e(".cs-sliders").prop("checked",!1)})}(),function(){var t,i;t=e("#cyclone-slides-metabox .cs-sortables").data("post-id"),i=new CsUiOpen(cs_local_storage.get("cs_slide_toggles")),e(".cs-sortables").sortable({handle:".cs-header",placeholder:"cs-slide-placeholder",forcePlaceholderSize:!0,delay:100,update:function(t,i){e(".cs-sortables .cs-slide").each(function(t,i){e(i).find("input, select, textarea").each(function(i,s){var n=e(s).attr("name");n&&(n=n.replace(/\[[0-9]+\]/,"["+t+"]"),e(s).attr("name",n))}),e(i).find(".cs-changeling-id").each(function(i,s){var n=e(s).attr("id");n&&(n=n.replace(/[0-9]+/,t),e(s).attr("id",n));var n=e(s).attr("for");n&&(n=n.replace(/[0-9]+/,t),e(s).attr("for",n))})})}}),e(".cs-sortables .cs-slide").each(function(s){var n;n=e(this).find(".cs-body"),e(this).data("cs_id",s),"open"==i.get(t,s)?n.slideDown(0):n.slideUp(0)}),e("#cyclone-slides-metabox").on("click",".cs-add-slide",function(t){var i=e(".cs-sortables .cs-slide").length,s=e(".cs-slide-skeleton").html();s=s.replace(/\{id\}/g,i),e(".cs-sortables").append(s),e(".cs-sortables .cs-slide:last").find(".cs-thumbnail").hide().end().find(".cs-body").show(),e(".cs-sortables .cs-slide").each(function(t){e(this).data("cs_id",t)}),e(".expandable-body").each(function(t){e(this).data("cs_id",t)}),e(".cycloneslider_metas_enable_slide_effects").trigger("change"),t.preventDefault()}),e("#cyclone-slides-metabox").on("wpAddImage",".cs-media-gallery-show",function(t,i,s,n){var a,o,l;a=e(this).parents(".cs-slide"),o=a.find(".cs-image-thumb"),l=a.find(".cs-image-id "),o.html('<a target="_blank" href="'+n.url+'"><img src="'+i+'" alt="thumb"></a>').show(),l.val(s)}),e("#cyclone-slides-metabox").on("wpAddImages",".cs-multiple-slides",function(t,i){for(var s=e(".cs-sortables .cs-slide").length,n=0;n<i.length;++n)e("#cyclone-slides-metabox .cs-add-slide").trigger("click"),e(".cs-sortables .cs-slide").eq(s+n).find(".cs-media-gallery-show").trigger("wpAddImage",[i[n].url,i[n].id,i[n]])}),e("#cyclone-slides-metabox").on("click",".cs-header",function(s){var n,a,o;a=e(this).parents(".cs-slide"),o=a.find(".cs-body"),n=a.data("cs_id"),o.is(":visible")?(o.slideUp(100),i.remove(t,n)):(o.slideDown(100),i.set(t,n,"open")),cs_local_storage.set("cs_slide_toggles",i.getAll())}),e("#cyclone-slides-metabox").on("click",".cs-delete",function(t){var i=e(this).parents(".cs-slide");i.fadeOut("slow",function(){i.remove()}),t.preventDefault(),t.stopPropagation()}),e("#cyclone-slides-metabox").on("change",".cs-slide-type-switcher",function(t){var i;i=e(this).parents(".cs-slide"),i.attr("data-slide-type",e(this).val())}),e(".cs-slide-type-switcher").trigger("change"),e("#cyclone-slides-metabox").on("change",".cycloneslider_metas_link_target",function(t){var i,s;i=e(this).parents(".expandable-box"),s=i.find(".cycloneslider_metas_link_url"),"lightbox"==e(this).val()?s.attr("disabled","disabled"):s.removeAttr("disabled")}),e(".cycloneslider_metas_link_target").trigger("change")}(),function(){var t,i;t=e("#cyclone-slides-metabox .cs-sortables").data("post-id"),i=new CsUiOpen(cs_local_storage.get("cs_expandables")),e("#cyclone-slides-metabox .expandable-body").each(function(s){e(this).data("cs_id",s),"open"==i.get(t,s)?e(this).slideDown(0):e(this).slideUp(0)}),e("#cyclone-slides-metabox").on("click",".expandable-header",function(s){var n,a;n=e(this).next(".expandable-body"),a=n.data("cs_id"),n.is(":visible")?(n.slideUp(100),i.remove(t,a)):(n.slideDown(100),i.set(t,a,"open")),cs_local_storage.set("cs_expandables",i.getAll())})}(),function(){e("#cyclone-slides-metabox .cs-sortables").data("post-id"),e("#cyclone-slides-metabox").on("click",".cs-video-get",function(t){var i,s,n,a,o,l;i=e(this),s=e(this).parents(".cs-slide"),o=s.find(".cs-video-thumb"),n=s.find(".cs-video-url"),""!=(a=n.val())&&(l=s.find(".cs-video-embed"),o.empty().show(),n.attr("disabled","disabled"),i.attr("disabled","disabled"),e.ajax({type:"POST",url:ajaxurl,data:"action=cycloneslider_get_video&url="+encodeURIComponent(a),dataType:"json",success:function(e,t,a){e.success?(o.html('<img src="'+e.url+'" alt="thumb">'),s.find(".cs-video-thumb-url").val(e.url),l.val(e.embed),n.removeAttr("disabled"),i.removeAttr("disabled")):(alert("Error. Make sure its a valid youtube or vimeo url."),o.empty().hide(),n.removeAttr("disabled"),i.removeAttr("disabled"))}}))})}(),function(){e("#minor-publishing-actions").hide(),e("#misc-publishing-actions").hide(),e(".inline-edit-date").prev().hide(),e("#pts_post_type").html('<option value="cycloneslider">Cycloneslider</option>'),e("#cyclone-slider-templates-metabox").on("click",".cs-templates li",function(t){e(".cs-templates li").removeClass("active"),e(".cs-templates li input").removeAttr("checked"),e(this).addClass("active").find("input").attr("checked","checked")}),e("#cyclone-slider-templates-metabox").on("click",".body .cs-location a",function(t){t.preventDefault(),t.stopPropagation();var i=e(this),s=e("#cs-boxy"),n=0,a=0,o=0;s.html(i.data("content")),s.stop().show(),s.outerWidth(),n=s.outerHeight(),a=i.offset().left,o=i.offset().top,o-=n,e("body").hasClass("admin-bar")&&(o-=32),s.css({left:a+"px",top:o+"px"})}),e(document).on("click","#cs-boxy",function(e){e.preventDefault(),e.stopPropagation()}),e(document).on("click","body",function(t){e("#cs-boxy").fadeOut()}),e(window).resize(function(t){e("#cs-boxy").hide()}),e("#cyclone-slider-properties-metabox").on("change","#cycloneslider_settings_fx",function(){"tileBlind"==e(this).val()||"tileSlide"==e(this).val()?e(".cycloneslider-field-tile-properties").slideDown("fast"):e(".cycloneslider-field-tile-properties").slideUp("fast")}),e("#cycloneslider_settings_fx").trigger("change"),e("#cyclone-slides-metabox").on("change",".cycloneslider_metas_fx",function(){"tileBlind"==e(this).val()||"tileSlide"==e(this).val()?e(this).siblings(".cycloneslider-slide-tile-properties").slideDown("fast"):e(this).siblings(".cycloneslider-slide-tile-properties").slideUp("fast")}),e(".cycloneslider_metas_fx").trigger("change"),e("#cyclone-slides-metabox").on("change",".cycloneslider_metas_enable_slide_effects",function(){0==e(this).val()?(e(this).parent().find("input,select").not(this).attr("disabled","disabled"),e(this).parent().find("label,.note").addClass("disabled")):(e(this).parent().find("input,select").not(this).removeAttr("disabled"),e(this).parent().find("label,.note").removeClass("disabled"))}),e(".cycloneslider_metas_enable_slide_effects").trigger("change")}(),function(){if("undefined"!=typeof wp&&"function"==typeof wp.media){var t,i=null;e(document.body).on("click",".cs-media-gallery-show",function(e){if(e.preventDefault(),i=jQuery(this),t)return void t.open();t=wp.media.frames.cyclone_media_frame=wp.media({className:"media-frame cs-frame",frame:"select",multiple:!1,title:cycloneslider_admin_vars.title,library:{type:"image"},button:{text:cycloneslider_admin_vars.button}}),t.on("select",function(){var e,s;e=t.state().get("selection").first().toJSON(),s=void 0==e.sizes.medium?e.url:e.sizes.medium.url,i.trigger("wpAddImage",[s,e.id,e])}),t.open()})}}(),function(){if("undefined"!=typeof wp&&"function"==typeof wp.media){var t,i=null;e(document.body).on("click",".cs-multiple-slides",function(e){if(e.preventDefault(),i=jQuery(this),t)return void t.open();t=wp.media.frames.cyclone_media_frame=wp.media({className:"media-frame cs-frame",frame:"select",multiple:!0,title:cycloneslider_admin_vars.title2,library:{type:"image"},button:{text:cycloneslider_admin_vars.button2}}),t.on("select",function(){var e;e=t.state().get("selection").toJSON(),i.trigger("wpAddImages",[e])}),t.open()})}}()});
//# sourceMappingURL=admin.min.js.map
